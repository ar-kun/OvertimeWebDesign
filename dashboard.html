<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="./dist/output.css" rel="stylesheet" />

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Jomolhari&display=swap" rel="stylesheet" />
  <link href="https://fonts.cdnfonts.com/css/jsmath-cmmi10" rel="stylesheet" />

  <!-- Font awosome -->
  <link
   rel="stylesheet"
   href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
   integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
   crossorigin="anonymous"
   referrerpolicy="no-referrer"
  />

  <title>Overtime Management</title>
 </head>
 <body class="bg-repeat-y bg-cover" style="background-image: url('./dist/img/bg.png')">
  <!-- <header>
   <nav class="hidden fixed lg:flex justify-end gap-14 w-full px-32 py-5 z-20 transition-all" id="navbar">
    <ul class="flex justify-between gap-10 items-center text-2xl">
     <li class="group">
      <a
       href="#home"
       class="group-hover:text-secondary duration-700 after:block after:origin-left after:scale-x-0 after:border-b-4 after:border-third after:pb-1 after:transition-all after:content-[''] hover:after:scale-x-100"
       >Home</a
      >
     </li>
     <li class="group">
      <a
       href="#"
       class="group-hover:text-secondary duration-700 after:block after:origin-left after:scale-x-0 after:border-b-4 after:border-third after:pb-1 after:transition-all after:content-[''] hover:after:scale-x-100"
       >About</a
      >
     </li>
     <li class="group">
      <a
       href=""
       class="group-hover:text-secondary duration-700 after:block after:origin-left after:scale-x-0 after:border-b-4 after:border-third after:pb-1 after:transition-all after:content-[''] hover:after:scale-x-100"
       >FAQs</a
      >
     </li>
     <li class="group">
      <a
       href=""
       class="group-hover:text-secondary duration-700 after:block after:origin-left after:scale-x-0 after:border-b-4 after:border-third after:pb-1 after:transition-all after:content-[''] hover:after:scale-x-100"
       >Contact</a
      >
     </li>
    </ul>
    <div class="w-14 h-1/4 bg-white rounded-full">
     <img src="./dist/img/profile.png" alt="" class="" />
    </div>
   </nav>
  </header> -->
  <main class="flex px-16 gap-10 py-5 max-h-screen">
   <section class="w-1/5 bg-gradient-to-r from-third to-secondary rounded-2xl text-white" id="sidebar">
    <img src="./dist/img/logo.png" alt="" class="px-5 pt-5" />
    <div class="border-b-2 border-primary border-dashed w-full mb-4"></div>
    <div class="px-10 text-xl my-2">
     <a href="dashboard.html" class="flex gap-5">
      <i class="fa-regular fa-calendar-check"></i>
      <p>Dashboard</p>
     </a>
     <div class="border-b-2 border-primary w-full mb-4"></div>
    </div>
    <div class="px-10 text-xl my-2">
     <a href="overtime.html" class="flex gap-5">
      <i class="fa-regular fa-rectangle-list"></i>
      <p>Overtime</p>
     </a>
    </div>
    <div class="px-10 text-xl my-2">
     <a href="" class="flex gap-5">
      <i class="fa-solid fa-users"></i>
      <p>Employees</p>
     </a>
    </div>
   </section>
   <section class="w-4/5 backdrop-blur-md text-third px-10 py-10 relative rounded-2xl" id="schedule">
    <div class="">
     <div class="flex flex-wrap justify-between items-center mb-10">
      <h1 class="text-3xl font-bold">Overtime Management</h1>
      <div class="flex gap-5 items-center">
       <a href="" class="bg-third px-5 py-2 rounded-lg shadow-md text-white shadow-slate-600 hover:bg-secondary hover:shadow-none">Transkip Gaji</a>
       <a href=""><i class="fa-regular fa-bell text-2xl"></i></a>
       <div class="w-14 h-1/4rounded-full">
        <img src="./dist/img/profile.png" alt="" class="" />
       </div>
      </div>
      <div class="border-b-2 border-slate-700 border-dashed w-full"></div>
     </div>
     <div class="">
      <div class="flex justify-between" id="month">
       <i class="fa-solid fa-chevron-left" id="prev"></i>
       <p class="text-2xl" id="date"></p>
       <i class="fa-solid fa-chevron-right" id="next"></i>
      </div>
      <div class="flex px-[20px] [&>p]:w-[calc(100%/7)] [&>p]:flex [&>p]:items-center [&>p]:justify-center [&>p]:text-xl py-5" id="weekdays">
       <p>Sun</p>
       <p>Mon</p>
       <p>Tue</p>
       <p>Wed</p>
       <p>Thu</p>
       <p>Fri</p>
       <p>Sat</p>
      </div>
      <div
       class="w-full flex flex-wrap justify-between py-0 px-[20px] text-lg font-bold mb-[20px] [&>*]:w-[calc(100%/7)] [&>*]:h-[70px] [&>*]:flex [&>*]:items-center [&>*]:justify-center [&>*]:cursor-pointer"
       id="days"
      ></div>
      <div class="flex justify-between" id="goto-today">
       <div class="flex items-center bg-third px-3 py-2 gap-5 rounded-md shadow-md shadow-slate-600">
        <input
         type="text"
         placeholder="mm/yyyy"
         class="py-2.5 px-0 w-full text-sm text-primary bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
         placeholder=" "
         required
         id="date-input"
        />
        <button class="bg-primary p-2 text-third rounded-md hover:bg-secondary hover:text-primary" id="goto-btn">Go</button>
       </div>
       <button class="hover:text-third" id="today-btn">Today</button>
      </div>
     </div>
    </div>
   </section>
  </main>
  <!-- <footer class="h-44 bg-secondary lg:px-32 py-10 text-white">
   <div class="container flex gap-10">
    <div class="w-[40%] flex gap-5">
     <i class="fa-solid fa-location-dot text-2xl"></i>
     <p>APL Tower lt.37 Suite 1-8 Jl. Letjen S. Parman Kav. 28 Kel. Tanjung Duren Selatan Kec. Grogol Petamburan Kota Administrasi Jakarta Barat</p>
    </div>
    <div class="w-[15%] flex flex-col gap-3">
     <div class="flex items-center gap-5">
      <i class="fa-brands fa-whatsapp text-2xl"></i>
      <p>+62 811 19 500900</p>
     </div>
     <div class="flex items-center gap-5">
      <i class="fa-solid fa-phone text-2xl"></i>
      <p>+62 21 2934 5777</p>
     </div>
    </div>
    <div class="w-[15%] flex gap-5 text-third">
     <div
      class="h-12 w-12 rounded-full bg-[#D1D9E5] flex items-center justify-center shadow-md shadow-slate-500 hover:bg-third hover:text-white hover:shadow-none"
     >
      <i class="fa-brands fa-linkedin-in text-2xl"></i>
     </div>
     <div
      class="h-12 w-12 rounded-full bg-[#D1D9E5] flex items-center justify-center shadow-md shadow-slate-500 hover:bg-third hover:text-white hover:shadow-none"
     >
      <i class="fa-brands fa-instagram text-2xl"></i>
     </div>
     <div
      class="h-12 w-12 rounded-full bg-[#D1D9E5] flex items-center justify-center shadow-md shadow-slate-500 hover:bg-third hover:text-white hover:shadow-none"
     >
      <i class="fa-brands fa-twitter text-2xl"></i>
     </div>
    </div>
    <div class="w-[20%] h-20">
     <img src="./dist/img/logo.png" alt="" class="-mt-5" />
    </div>
   </div>
   <p class="text-center mt-5">Copyright by @arkun. 2023 Alright</p>
  </footer> -->

  <script>
   const schedule = document.querySelector('#schedule');
   const date = document.querySelector('#date');
   const daysContainer = document.querySelector('#days');
   const prev = document.querySelector('#prev');
   const next = document.querySelector('#next');
   const todayBtn = document.querySelector('#today-btn');
   const gotoBtn = document.querySelector('#goto-btn');
   const dateInput = document.querySelector('#date-input');

   let today = new Date();
   let activeDate;
   let month = today.getMonth();
   let year = today.getFullYear();

   const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'Octobor', 'November', 'Desember'];

   //  add to days
   const initCalender = () => {
    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const prevLastDay = new Date(year, month, 0);
    const prevDays = prevLastDay.getDate();
    const lastDate = lastDay.getDate();
    const day = firstDay.getDay();
    const nextDays = 7 - lastDay.getDay() - 1;

    date.innerHTML = `${months[month]} ${year}`;

    let days = '';
    const randomId = Math.random().toString(36).substring(2, 10);

    //prev month days
    for (let x = day; x > 0; x--) {
     days += `<div class="prev-date" >${prevDays - x + 1}</div>`;
    }

    //Curret month days
    for (let i = 1; i <= lastDate; i++) {
     if (i === new Date().getDate() && month === new Date().getMonth() && year === new Date().getFullYear()) {
      days += `<div class="today" >${i}</div>`;
     } else {
      const isWeekday = new Date(year, month, i).getDay() === 0 || new Date(year, month, i).getDay() === 6 ? 1 : 0;

      days += `
      <div>
        <div class="hover:bg-secondary/75 hover:text-primary rounded-lg py-5 px-[3.75rem]" id="${i}-${randomId}" data-modal-target="default-${i}-${randomId}" data-modal-toggle="default-${i}-${randomId}">${i}</div>

      <!-- modal -->
    <div
     id="default-${i}-${randomId}"
     tabindex="-1"
     aria-hidden="true"
     class="hidden absolute bg-secondary/50 w-full h-full top-0 left-0 flex justify-center items-center ease-out transition-all duration-300 backdrop-blur-md text-primary rounded-xl"
    >
     <div class="bg-third w-1/2 rounded-lg p-5 relative shadow-md shadow-slate-500">
      <div class="flex px-5 py-2 gap-5" id="today-date">
       <div class="" id="event-day">Wed</div>
       <div class="" id="event-date">${i}th ${months[month]} ${year}</div>
      </div>
      <div class="absolute right-0 top-0 text-3xl p-5">
       <i class="fas fa-times" data-modal-close="default-${i}-${randomId}"></i>
      </div>
      <div class="" id="events"></div>
      <div class="flex items-center" id="add-event-wrapper">
       <form class="w-full">
        <div class="relative z-0 w-full mb-6 group">
         <input
          type="date"
          name="floating_date"
          id="floating_date"
          class="hidden py-2.5 px-0 w-full text-sm text-primary bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          placeholder=" "
          value="${year}-${month + 1}-${i < 10 ? '0' + i : i}"
          required
          readonly
         />
        </div>
        <div class="relative z-0 w-full mb-6 group">
         <input
          type="number"
          name="floating_duration"
          id="floating_duration"
          class="block py-2.5 px-0 w-full text-sm text-primary bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          placeholder=" "
          required
         />
         <label
          for="floating_duration"
          class="peer-focus:font-medium absolute text-sm text-primary dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Duration</label
         >
        </div>
        
        <div class="relative z-0 w-full mb-6 group">
         <input
          type="text"
          name="floating_remarks"
          id="floating_remarks"
          class="block py-2.5 px-0 w-full text-sm text-primary bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          placeholder=" "
          required
         />
         <label
          for="floating_remarks"
          class="peer-focus:font-medium absolute text-sm text-primary dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
          >Remarks</label
         >
        </div>
        <div class="relative z-0 w-full mb-6 group">
         <input
          type="number"
          name="floating_type"
          id="floating_type"
          class="hidden py-2.5 px-0 w-full text-sm text-primary bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          placeholder=" "
          value="${isWeekday}"
          required
          readonly
         />
        </div>

        <div
         class="group bg-primary rounded-xl text-center hover:bg-secondary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium text-sm w-full sm:w-auto px-5 py-2.5 dark:bg-third dark:hover:bg-bg-secondary dark:focus:ring-secondary shadow-md shadow-slate-500"
        >
         <button type="submit" class="text-third text-lg group-hover:text-primary">Send Request Overtime</button>
        </div>
       </form>
      </div>
     </div>
    </div>
      </div>
      `;
     }
    }

    //next month days

    for (let j = 1; j <= nextDays; j++) {
     days += `<div class="next-date" >${j}</div>`;
    }

    daysContainer.innerHTML = days;
   };

   initCalender();

   //  prev month
   const prevMonth = () => {
    month--;
    if (month < 0) {
     month = 11;
     year--;
    }
    initCalender();
   };

   //  next month
   const nextMonth = () => {
    month++;
    if (month > 11) {
     month = 0;
     year++;
    }
    initCalender();
   };

   //event next and prev
   prev.addEventListener('click', prevMonth);
   next.addEventListener('click', nextMonth);

   //Our calender is ready
   todayBtn.addEventListener('click', () => {
    today = new Date();
    month = today.getMonth();
    year = today.getFullYear();
    initCalender();
   });

   //Go to date
   dateInput.addEventListener('input', (e) => {
    dateInput.value = dateInput.value.replace(/[^0-9/]/g, '');
    if (dateInput.value.length === 2) {
     dateInput.value += '/';
    }
    if (dateInput.value.length > 7) {
     dateInput.value = dateInput.value.slice(0, 7);
    }
    if (e.inputType === 'deleteContentBackward') {
     if (dateInput.value.length === 3) {
      dateInput.value = dateInput.value.slice(0, 2);
     }
    }
   });

   const gotoDate = () => {
    const dateArr = dateInput.value.split('/');
    if (dateArr.length === 2) {
     if (dateArr[0] > 0 && dateArr[0] < 13 && dateArr[1].length === 4) {
      month = dateArr[0] - 1;
      year = dateArr[1];
      initCalender();
      return;
     }
    }
    alert('Invalid Date');
   };
   gotoBtn.addEventListener('click', gotoDate);

   const modalTriggers = document.querySelectorAll('[data-modal-toggle]');
   const modalCloseTriggers = document.querySelectorAll('[data-modal-close]');

   modalTriggers.forEach((trigger) => {
    trigger.addEventListener('click', () => {
     const targetId = trigger.getAttribute('data-modal-target');
     const targetModal = document.getElementById(targetId);
     if (targetModal) {
      targetModal.classList.remove('hidden');
     }
    });
   });

   modalCloseTriggers.forEach((closeTrigger) => {
    closeTrigger.addEventListener('click', () => {
     const targetId = closeTrigger.getAttribute('data-modal-close');
     const targetModal = document.getElementById(targetId);
     if (targetModal) {
      targetModal.classList.add('hidden');
     }
    });
   });
  </script>
 </body>
</html>
